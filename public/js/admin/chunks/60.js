(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{"1o8A":function(t,e,a){"use strict";a.r(e);var s=a("8NJL"),n=a("DG1M"),i=a("IAPz"),o=a("+4WA"),r=a("cbbs"),l=a("e9yv"),c=a("VOL1"),u=a("OLFr"),d=a("3uf8"),p=a("Nr6K"),m=a("+EKj"),b=a("g42O"),f=a("4cv3"),h=a("hbd/"),g={name:"RequestTab",components:{BCard:i.a,BModal:u.a,BCardText:o.a,BLink:d.a,BButton:c.a,BRow:r.a,BCol:l.a,BTooltip:p.a,Panel:b.a},directives:{"b-modal":m.a,Ripple:f.a},props:{status:{type:Number,required:!0}},data:function(){return{model:{message:""},messageModal:!1,urlApi:"/care_giver/api/help_requests",resource:"/help_requests",panel_sort_enabled:!0,columns:[{label:"ID",field:"id"},{label:"Help Type",displayText:"help_type",field:"title"},{label:"Service Type",displayText:"help_type_service",field:"title"},{label:"User",displayText:"user",field:"name"},{label:"Status",displayText:"status",field:"title"},{label:"Created At",field:"created_at",format:"formatDate"},{label:"Action",field:"action",action:!0}]}},methods:{openMessage:function(t){this.model=t,this.messageModal=!0},goToChat:function(t){this.$router.push("/help_request_chat/".concat(t.id))},updateStatus:function(t){var e=this;this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirm",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ml-1"},buttonsStyling:!1}).then((function(a){if(a.value){var s={id:t.id,status_id:e.status+1};Object(h.a)("POST",e.urlApi,s).then((function(t){t.data.saved&&e.$swal({icon:"success",title:"Success!",text:"Help request status updated successfully.",customClass:{confirmButton:"btn btn-success"}}),e.$refs.panel.reload()}))}}))}}},_=a("KHd+"),v={components:{RequestTab:Object(_.a)(g,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("panel",{ref:"panel",attrs:{"url-api":t.urlApi,columns:t.columns,resource:t.resource,"additional-params":{status:t.status},"sort-enabled":t.panel_sort_enabled},scopedSlots:t._u([{key:"action",fn:function(e){return a("div",{staticClass:"text-nowrap"},[e.item.message?[a("feather-icon",{staticClass:"cursor-pointer",attrs:{id:"help-request-row-"+e.item.id+"-edit-icon",icon:"MessageSquareIcon",size:"16"},on:{click:function(a){return t.openMessage(e.item)}}}),t._v(" "),a("b-tooltip",{staticClass:"cursor-pointer",attrs:{target:"help-request-row-"+e.item.id+"-edit-icon",title:"Show Message"}})]:t._e(),t._v(" "),e.item.status_id<3?[a("feather-icon",{staticClass:"cursor-pointer",attrs:{id:"help-request-row-"+e.item.id+"-update-icon",icon:"EditIcon",size:"16"},on:{click:function(a){return t.updateStatus(e.item)}}}),t._v(" "),a("b-tooltip",{staticClass:"cursor-pointer",attrs:{target:"help-request-row-"+e.item.id+"-update-icon",title:"Update Status"}}),t._v(" "),2==e.item.status_id?a("feather-icon",{staticClass:"cursor-pointer",attrs:{id:"help-request-row-"+e.item.id+"-message-icon",icon:"MessageCircleIcon",size:"16"},on:{click:function(a){return t.goToChat(e.item)}}}):t._e(),t._v(" "),a("b-tooltip",{staticClass:"cursor-pointer",attrs:{target:"help-request-row-"+e.item.id+"-message-icon",title:"Chat"}})]:t._e()],2)}}])}),t._v(" "),a("b-modal",{attrs:{id:"modal-prevent-closing",title:"Detail",centered:"","ok-only":"","ok-title":"Close"},model:{value:t.messageModal,callback:function(e){t.messageModal=e},expression:"messageModal"}},[a("b-card-text",[t._v("\n            Message : "+t._s(t.model.message)+"\n        ")])],1)],1)}),[],!1,null,"2eb3af58",null).exports,BTabs:s.a,BTab:n.a,BCard:i.a,BCardText:o.a,BRow:r.a,BCol:l.a,BButton:c.a},name:"Home",data:function(){return{tab:[{show:!0},{show:!1},{show:!1}]}},methods:{changeTab:function(t){for(var e=0;e<this.tab.length;e++)this.tab[e].show=!1;this.tab[t].show=!0}}},w=Object(_.a)(v,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-card",[a("b-row",[a("b-col",{attrs:{cols:"6"}},[a("h3",[t._v("Help Requests")])]),t._v(" "),a("b-col",{staticClass:"text-right",attrs:{cols:"6"}},[a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mr-1 mb-1",attrs:{type:"submit",variant:"primary",align:"right",to:{name:"create-help-requests"}}},[t._v("\n                    Create\n                ")])],1)],1),t._v(" "),a("b-tabs",{ref:"tab",attrs:{fill:""},on:{input:t.changeTab}},[a("b-tab",{attrs:{title:"New"}},[t.tab[0].show?[a("request-tab",{attrs:{status:1}})]:t._e()],2),t._v(" "),a("b-tab",{attrs:{title:"Accepted"}},[t.tab[1].show?[a("request-tab",{attrs:{status:2}})]:t._e()],2),t._v(" "),a("b-tab",{attrs:{title:"Completed"}},[t.tab[2].show?[a("request-tab",{attrs:{status:3}})]:t._e()],2)],1)],1)],1)}),[],!1,null,"1d40633a",null);e.default=w.exports},g42O:function(t,e,a){"use strict";var s=a("djKw"),n=a.n(s),i=a("cbbs"),o=a("e9yv"),r=a("G/QR"),l=a("gnRo"),c=a("wMrI"),u=a("dQIy"),d=a("WzGQ"),p=a("eYZ3"),m=a("VOL1"),b=a("Nifr"),f=a("hbd/"),h=a("WHwe"),g=a("4cv3"),_=a("1w2d"),v={name:"Panel",components:{BRow:i.a,BCol:o.a,BAvatar:r.a,BBadge:l.a,BPagination:c.a,BFormGroup:u.a,BFormInput:d.a,BFormSelect:p.a,BButton:m.a,VueGoodTable:b.a,ToastificationContent:_.a},directives:{Ripple:g.a},props:{urlApi:{type:String,required:!0},columns:{type:Array,required:!0},initialGet:{type:Boolean,default:!0},resource:{type:String},sortEnabled:{type:Boolean},pageLength:{type:Number,default:25},additionalParams:{type:Object,default:{}}},computed:{direction:function(){return h.a.state.appConfig.isRTL?(this.dir=!0,this.dir):(this.dir=!1,this.dir)}},data:function(){return{dir:!1,model:{}}},created:function(){this.initialGet&&this.reload()},methods:{reload:function(){var t=this;this.additionalParams.per_page=this.pageLength,Object(f.b)(this.urlApi,this.additionalParams).then((function(e){t.model=e.data.data,t.pageLength=e.data.data.per_page}))},onRowClick:function(t){this.$emit("rowClicked",t.row)},nextPage:function(){var t=this;Object(f.b)(this.model.next_page_url).then((function(e){n.a.set(t.$data,"model",e.data.data),t.pageLength=e.data.data.per_page}))},prevPage:function(){var t=this;Object(f.b)(this.model.prev_page_url).then((function(e){n.a.set(t.$data,"model",e.data.data),t.pageLength=e.data.data.per_page}))}}},w=a("KHd+"),C=Object(w.a)(v,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("vue-good-table",{attrs:{columns:t.columns,rows:t.model.data,rtl:t.direction,"pagination-options":{enabled:!0,perPage:100},"sort-options":{enabled:t.sortEnabled},theme:"my-theme"},on:{"on-row-click":t.onRowClick},scopedSlots:t._u([{key:"table-row",fn:function(e){return[e.column.action?[t._t("action",null,{item:e.row})]:e.column.custom?[t._t(e.column.field,null,{item:e.row})]:e.column.displayText?[e.column.multiple?[e.row[e.column.displayText].length>0?t._l(e.row[e.column.displayText],(function(s,n){return a("b-badge",{key:n,staticClass:"mr-1",attrs:{variant:"primary"}},[t._v("\n                                    "+t._s(s[e.column.field])+"\n                                ")])})):[t._v("\n                                No "+t._s(e.column.displayText)+"\n                            ")]]:[a("span",[t._v("\n                                "+t._s(e.row[e.column.displayText][e.column.field])+"\n                            ")])]]:e.column.format?["formatDate"==e.column.format?a("span",[t._v("\n                            "+t._s(t._f("formatDate")(e.row[e.column.field]))+"\n                        ")]):"formatDateTime"==e.column.format?a("span",[t._v("\n                            "+t._s(t._f("formatDateTime")(e.row[e.column.field]))+"\n                        ")]):t._e()]:[a("span",[t._v("\n                            "+t._s(e.column.relation?e.column.relation:e.row[e.column.field])+"\n                        ")])]]}},{key:"pagination-bottom",fn:function(e){return[a("div",{staticClass:"d-flex justify-content-between flex-wrap"},[a("div",{staticClass:"d-flex align-items-center mb-0 mt-1"},[a("span",{staticClass:"text-nowrap"},[t._v("\n                              Showing 1 to\n                            ")]),t._v(" "),a("b-form-select",{staticClass:"mx-1",attrs:{options:["2","25","50","100"]},on:{input:t.reload},model:{value:t.pageLength,callback:function(e){t.pageLength=e},expression:"pageLength"}}),t._v(" "),a("span",{staticClass:"text-nowrap"},[t._v(" of "+t._s(e.total)+" entries ")])],1),t._v(" "),a("div",{staticClass:"align-content-end mb-0 mt-1"},[a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mr-1",attrs:{type:"submit",variant:"primary",disabled:null==t.model.prev_page_url},on:{click:t.prevPage}},[a("feather-icon",{attrs:{icon:"ChevronLeftIcon",size:"18"}})],1),t._v(" "),a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mr-1",attrs:{type:"submit",variant:"primary",disabled:null==t.model.next_page_url},on:{click:t.nextPage}},[a("feather-icon",{attrs:{icon:"ChevronRightIcon",size:"18"}})],1)],1)])]}}],null,!0)})],1)],1)],1)}),[],!1,null,"985ccd2c",null);e.a=C.exports}}]);